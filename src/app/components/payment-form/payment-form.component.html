<p-dialog
  header="Top Up"
  [modal]="true"
  [visible]="visible"
  (visibleChange)="visibleChange.emit($event)"
  [style]="{ width: '25rem' }"
>
  <span class="p-text-secondary block mb-5">Top up your account</span>
  <form [formGroup]="checkoutForm">
    <div style="margin-bottom: 10px"></div>
    @if (elementsOptions.clientSecret) {
    <ngx-stripe-elements [stripe]="stripe" [elementsOptions]="elementsOptions">
      <ngx-stripe-payment [options]="paymentElementsOptions" />
    </ngx-stripe-elements>
    }
    <div style="margin-bottom: 20px"></div>
    <mat-divider></mat-divider>
    <div style="margin-bottom: 20px"></div>
    <div style="text-align: right">
      <div class="flex justify-content-end gap-2">
        <p-button
          label="Cancel"
          severity="secondary"
          (onClick)="visibleChange.emit(false)"
        />
        <p-button
          label="Pay"
          (onClick)="visibleChange.emit(false)"
          [loading]="paying()"
        />
      </div>

      <!-- @if (paying()) {
        <span>PROCESSING...</span>
        } @else {
        <span>
          PAY @if (amount) {
          <span>{{ amount | currency }}</span>
          }
        </span>
        } -->
    </div>
  </form>
</p-dialog>
